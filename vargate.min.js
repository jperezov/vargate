/**!
 * VarGate v0.1.0
 * Copyright (c)  Jonathan Perez.
 * Licensed under the MIT License.
 */
!function(){"use strict";function a(b,c){function d(a,b){if("undefined"==typeof h[a]&&(h[a]=[]),a.length)try{h[a[0]].push({cond:a[1],fn:b})}catch(c){throw"Invalid number of arguments passed through: ["+a.join(",")+"] (should be two)"}else h[a].push(b)}var e=this,f={},g={},h={};this.module=b,this.data=g,this.children=f,this.parent=c,this.register=function(b){return c?c.register.call(e,e.module+"."+b):(f[b]=this.children[b]=new a(b,this),f[b])},this.when=function(a,b){if(a.length)for(var c in a)a.hasOwnProperty(c)&&d(c,b);else d(a,b)},this.set=function(a,b){if(c){if("undefined"!=typeof this.get(a)&&this.module!==e.module)throw"Variable "+a+" defined in module "+e.module+". Choose a different name.";c.set.call(e,a,b)}else this.module===e.module?g[a]=b:g[this.module+"."+a]=b,e.unlock(a)},this.get=function(a){return c?c.get.call(e,a):this.module===e.module?g[a]:g[this.module+"."+a]},this.unlock=function(a){}}var b=new a("main");"function"==typeof define&&define.amd?define(function(){return b}):"object"==typeof module&&module.exports?module.exports=b:window.VarGate=b}();